---
import "../styles/global.css";

interface Props {
  title?: string;
  description?: string;
}

const { title = "Peter Hagen – Systems-minded Data Engineer & Quant-oriented Analyst", description = "Modern portfolio for data engineering, AI/ML engineering, quant/finance, and GovCon analytics." } = Astro.props as Props;
---

<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="min-h-full bg-slate-950 text-slate-50 antialiased">
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:bg-teal-400 focus:px-4 focus:py-2 focus:text-sm focus:font-semibold focus:text-slate-950 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-2 focus:ring-offset-slate-950">
      Skip to main content
    </a>
    <div class="flex min-h-screen flex-col">
      <header class="border-b border-slate-800 bg-slate-950/80 backdrop-blur">
        <div class="mx-auto flex max-w-5xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8">
          <a href="/" class="text-sm font-semibold tracking-tight text-slate-50">
            Peter Hagen
            <span class="ml-1 text-xs font-normal text-slate-400">Data / AI / Quant</span>
          </a>
          <nav aria-label="Main navigation" class="relative">
            <button
              id="mobile-menu-button"
              aria-label="Toggle navigation menu"
              aria-expanded="false"
              class="sm:hidden rounded p-1 text-slate-300 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950"
            >
              <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                <path id="close-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
            <div id="mobile-menu-backdrop" class="hidden fixed inset-0 z-40 bg-slate-950/50 backdrop-blur-sm sm:hidden"></div>
            <ul id="nav-menu" class="hidden absolute right-0 top-full z-50 mt-2 flex w-48 flex-col gap-2 rounded-lg border border-slate-800 bg-slate-900 p-3 text-sm text-slate-300 sm:static sm:z-auto sm:flex sm:w-auto sm:flex-row sm:border-0 sm:bg-transparent sm:p-0">
              <li><a href="/about" class="block rounded px-3 py-1 hover:bg-slate-800 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 sm:px-0 sm:py-0 sm:hover:bg-transparent">About</a></li>
              <li><a href="/projects" class="block rounded px-3 py-1 hover:bg-slate-800 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 sm:px-0 sm:py-0 sm:hover:bg-transparent">Projects</a></li>
              <li><a href="/resume" class="block rounded px-3 py-1 hover:bg-slate-800 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 sm:px-0 sm:py-0 sm:hover:bg-transparent">Resume</a></li>
              <li><a href="/notes" class="block rounded px-3 py-1 hover:bg-slate-800 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 sm:px-0 sm:py-0 sm:hover:bg-transparent">Notes</a></li>
            </ul>
          </nav>
        </div>
      </header>
      <script>
        const menuButton = document.getElementById('mobile-menu-button');
        const navMenu = document.getElementById('nav-menu');
        const menuIcon = document.getElementById('menu-icon');
        const closeIcon = document.getElementById('close-icon');
        const backdrop = document.getElementById('mobile-menu-backdrop');
        
        function toggleMenu(isOpen) {
          if (isOpen) {
            menuButton.setAttribute('aria-expanded', 'true');
            navMenu.classList.remove('hidden');
            backdrop?.classList.remove('hidden');
            menuIcon.classList.add('hidden');
            closeIcon.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
          } else {
            menuButton.setAttribute('aria-expanded', 'false');
            navMenu.classList.add('hidden');
            backdrop?.classList.add('hidden');
            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
            document.body.style.overflow = '';
          }
        }
        
        if (menuButton && navMenu) {
          menuButton.addEventListener('click', () => {
            const isExpanded = menuButton.getAttribute('aria-expanded') === 'true';
            toggleMenu(!isExpanded);
          });
          
          backdrop?.addEventListener('click', () => {
            toggleMenu(false);
          });
          
          // Close menu when clicking outside
          document.addEventListener('click', (e) => {
            const target = e.target;
            if (target && !menuButton.contains(target) && !navMenu.contains(target) && target !== backdrop) {
              toggleMenu(false);
            }
          });
          
          // Close menu on escape key
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && menuButton.getAttribute('aria-expanded') === 'true') {
              toggleMenu(false);
            }
          });
        }
      </script>

      <main id="main-content" class="flex-1">
        <slot />
      </main>

      <footer class="border-t border-slate-800 bg-slate-950/80">
        <div class="mx-auto flex max-w-5xl flex-col gap-2 px-4 py-6 text-xs text-slate-400 sm:flex-row sm:items-center sm:justify-between sm:px-6 lg:px-8">
          <p class="leading-relaxed">
            © {new Date().getFullYear()} Peter Hagen. All rights reserved.
          </p>
          <div class="flex flex-wrap items-center gap-4 sm:gap-3">
            <a href="mailto:Peterhag@vt.edu" class="hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">Email</a>
            <a href="https://www.linkedin.com/in/peterhagen13" target="_blank" rel="noopener noreferrer" class="hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded" aria-label="LinkedIn (opens in new tab)">LinkedIn</a>
            <a href="https://github.com/PH13" target="_blank" rel="noopener noreferrer" class="hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded" aria-label="GitHub (opens in new tab)">GitHub</a>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>


