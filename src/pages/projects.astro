---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
---

<BaseLayout title="Projects â€“ Peter Hagen">
  <section class="border-b border-slate-800 bg-slate-950">
    <div class="mx-auto max-w-5xl px-4 py-14 sm:px-6 lg:px-8">
      <header class="mb-6 space-y-2">
        <h1 class="text-2xl font-semibold tracking-tight text-slate-50 sm:text-3xl">
          Projects
        </h1>
        <p class="max-w-2xl text-sm text-slate-300 sm:text-base">
          A structured view of AI/ML pipelines, quantitative models, data engineering work on AWS,
          GovCon analytics dashboards, and D3 visualizations.
        </p>
      </header>
      <div class="space-y-8 text-sm text-slate-200 sm:text-base">
        <div>
          <h2 class="mb-3 text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
            AI &amp; ML Pipelines
          </h2>
          {projects.filter((p) => p.data.template === "ai-pipeline").length > 0 ? (
            <ul class="space-y-2">
              {projects
                .filter((p) => p.data.template === "ai-pipeline")
                .map((p) => (
                  <li>
                    <a href={`/projects/${p.slug}`} class="text-slate-100 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">
                      {p.data.title}
                    </a>
                    {p.data.summary && (
                      <p class="text-xs text-slate-400">
                        {p.data.summary}
                      </p>
                    )}
                  </li>
                ))}
            </ul>
          ) : (
            <p class="text-xs text-slate-500 italic">No projects in this category yet.</p>
          )}
        </div>
        <div>
          <h2 class="mb-3 text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
            Quant &amp; Financial Models
          </h2>
          {projects.filter((p) => p.data.template === "quant-model").length > 0 ? (
            <ul class="space-y-2">
              {projects
                .filter((p) => p.data.template === "quant-model")
                .map((p) => (
                  <li>
                    <a href={`/projects/${p.slug}`} class="text-slate-100 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">
                      {p.data.title}
                    </a>
                    {p.data.summary && (
                      <p class="text-xs text-slate-400">
                        {p.data.summary}
                      </p>
                    )}
                  </li>
                ))}
            </ul>
          ) : (
            <p class="text-xs text-slate-500 italic">No projects in this category yet.</p>
          )}
        </div>
        <div>
          <h2 class="mb-3 text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
            Data Engineering &amp; AWS Pipelines
          </h2>
          {projects.filter((p) => p.data.template === "aws-data-pipeline").length > 0 ? (
            <ul class="space-y-2">
              {projects
                .filter((p) => p.data.template === "aws-data-pipeline")
                .map((p) => (
                  <li>
                    <a href={`/projects/${p.slug}`} class="text-slate-100 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">
                      {p.data.title}
                    </a>
                    {p.data.summary && (
                      <p class="text-xs text-slate-400">
                        {p.data.summary}
                      </p>
                    )}
                  </li>
                ))}
            </ul>
          ) : (
            <p class="text-xs text-slate-500 italic">No projects in this category yet.</p>
          )}
        </div>
        <div>
          <h2 class="mb-3 text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
            GovCon Analytics Dashboards
          </h2>
          {projects.filter((p) => p.data.template === "govcon-analytics").length > 0 ? (
            <ul class="space-y-2">
              {projects
                .filter((p) => p.data.template === "govcon-analytics")
                .map((p) => (
                  <li>
                    <a href={`/projects/${p.slug}`} class="text-slate-100 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">
                      {p.data.title}
                    </a>
                    {p.data.summary && (
                      <p class="text-xs text-slate-400">
                        {p.data.summary}
                      </p>
                    )}
                  </li>
                ))}
            </ul>
          ) : (
            <p class="text-xs text-slate-500 italic">No projects in this category yet.</p>
          )}
        </div>
        <div>
          <h2 class="mb-3 text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
            D3.js Visualizations
          </h2>
          {projects.filter((p) => p.data.template === "d3-visualization").length > 0 ? (
            <ul class="space-y-2">
              {projects
                .filter((p) => p.data.template === "d3-visualization")
                .map((p) => (
                  <li>
                    <a href={`/projects/${p.slug}`} class="text-slate-100 hover:text-teal-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 rounded">
                      {p.data.title}
                    </a>
                    {p.data.summary && (
                      <p class="text-xs text-slate-400">
                        {p.data.summary}
                      </p>
                    )}
                  </li>
                ))}
            </ul>
          ) : (
            <p class="text-xs text-slate-500 italic">No projects in this category yet.</p>
          )}
        </div>
      </div>
    </div>
  </section>
</BaseLayout>


