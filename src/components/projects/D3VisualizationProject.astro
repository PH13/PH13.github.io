---
import type { CollectionEntry } from "astro:content";

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props as Props;
const { data, body } = project;
---

<article class="mx-auto max-w-3xl px-4 py-10 sm:px-6 sm:py-14 lg:px-8">
  <header class="mb-6 space-y-2">
    <p class="text-xs font-semibold uppercase tracking-[0.2em] text-teal-300">
      {data.type}
    </p>
    <h1 class="text-2xl font-semibold tracking-tight text-slate-50 sm:text-3xl">
      {data.title}
    </h1>
    {data.summary && (
      <p class="max-w-2xl text-sm text-slate-300 sm:text-base">
        {data.summary}
      </p>
    )}
  </header>
  {(data.stack && data.stack.length > 0) || data.timeline || data.impact ? (
    <section class="mb-6 grid gap-4 text-xs text-slate-200 sm:grid-cols-3 sm:text-sm">
      {data.stack && data.stack.length > 0 && (
        <div>
          <h2 class="text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-slate-400">
            Stack
          </h2>
          <p class="mt-1 text-slate-200">
            {data.stack.join(", ")}
          </p>
        </div>
      )}
      {data.timeline && (
        <div>
          <h2 class="text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-slate-400">
            Timeline
          </h2>
          <p class="mt-1 text-slate-200">
            {data.timeline}
          </p>
        </div>
      )}
      {data.impact && (
        <div>
          <h2 class="text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-slate-400">
            Impact
          </h2>
          <p class="mt-1 text-slate-200">
            {data.impact}
          </p>
        </div>
      )}
    </section>
  ) : null}
  <section class="prose prose-invert prose-sm max-w-none text-slate-100 prose-headings:text-slate-50 prose-a:text-teal-300 hover:prose-a:text-teal-200">
    {body}
  </section>
  {data.legacyUrl && (
    <section class="mt-6 rounded-xl border border-slate-800 bg-slate-900/60 p-4 text-xs text-slate-200">
      <h2 class="text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-slate-400">
        Interactive demos
      </h2>
      <p class="mt-2">
        View the original interactive D3 visualizations on the{" "}
        <a href={data.legacyUrl} class="text-teal-300 hover:text-teal-200">
          legacy D3 projects page
        </a>.
      </p>
    </section>
  )}
</article>


